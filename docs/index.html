<!DOCTYPE html>
<html>
  <head>
    <title>MongoDB Anbindung</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: #f2f2f2;
      }

      h1 {
        color: #0066cc;
        text-align: center;
        margin-top: 30px;
      }

      #results {
        padding: 20px;
        margin: 0 auto;
        max-width: 800px;
      }

      p {
        font-size: 18px;
        line-height: 1.5;
        color: #333333;
      }
    </style>
  </head>
  <body>
    <h1>Geothermie in Deutschland</h1>
    <div id="results"></div>
    <iframe style="background: #FFFFFF;border: none;border-radius: 2px;box-shadow: 0 2px 10px 0 rgba(70, 76, 79, .2);" width="640" height="480" src="https://charts.mongodb.com/charts-dbproject-tupdo/embed/charts?id=64049f99-058e-42e9-86a4-ecc495e57f57&maxDataAge=60&theme=light&autoRefresh=true"></iframe>
    
    <script src="https://unpkg.com/mongodb@4.0.0-beta.0"></script>
    <script>
      const MongoClient = mongodb.MongoClient;
      const uri = "mongodb+srv://<username>:<password>@<cluster>.mongodb.net/<database>?retryWrites=true&w=majority";
      const client = new MongoClient(uri, { useNewUrlParser: true, useUnifiedTopology: true });
      
      client.connect(err => {
        const collection = client.db("test").collection("devices");
        collection.find({}).toArray((err, docs) => {
          if (err) throw err;
          const resultsDiv = document.getElementById("results");
          for (let i = 0; i < docs.length; i++) {
            const doc = docs[i];
            const result = document.createElement("p");
            result.innerHTML = doc.name;
            resultsDiv.appendChild(result);
          }
        });
        client.close();
      });
    </script>
  </body>
</html>
